---
title: 'Vue Router'
---

## 概述

> 官方路由插件，和vue.js深度集成，适合用于构建单页面应用，vue的单页面应用是基于路由和组件的，路由用于设定访问路径，并将路径和组件映射起来。传统的页面应用，是用一些超链接来实现页面切换和跳转，在vue-router单页面应用中，则是路径之间的切换，也就是组件的切换，路由模块的本质就是建立起url和页面之间的映射关系

## 实现原理

> SPA单页面应用，只有一个完整的页面，在加载页面时，不会加载整个页面，而是只更新某个指定的容器中内容，单页面应用的核心之一就是**更新视图而不重新请求页面**，vue-router在实现单页面前端路由时，提供了两种方式 ：Hash模式和History模式，根据mode参数来决定采用哪一种方式

## Hash模式

- vue-router默认hash模式，使用url的hash来模拟一个完整的url，当url改变时，页面不会重新加载
- hash(#)是url的锚点，代表的是网页中的一个位置，单单改变#后的部分，浏览器只会滚动到相应位置，不会重新加载网页，也就是说hash出现在url中，但不会被包含在http请求中，对后端完全没有影响，因此改变hash不会重新加载页面
- 每一次改变#后的部分，都会在 浏览器的访问历史中增加一个记录，使用“后退”按钮，就可以回到上一个位置；所以说hash模式通过锚点值得改变，根据不同的值，渲染指定DOM位置的不同数据。hash模式的原理是onhashchange事件，可以在window对象上监听这个事件

## History模式

- hash模式中url上会自带#，如果不想要这个#，就用history模式，这种模式充分利用了H5 history interface中新增的pushState()和replaceState()方法。这两个方法应用于浏览器记录栈，在当前已有的back、forward、go基础上，它们提供了对历史记录修改的功能，只是当它们执行修改时，虽然改变了当前的url，但浏览器不会立即向后端发送请求